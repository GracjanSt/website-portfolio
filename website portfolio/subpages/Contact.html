<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="UTF-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="../styling/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <title>Contact</title>
  <style>
    .contactcontainer{
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px 20px;
      flex-direction: column;
      width: calc(100% - var(--content-offset) - 40px);
      max-width: 850px;
      margin-right: calc(100% - var(--content-offset) - 40px);
      font-size: 20px;
      font-family: 'Nanum Gothic', sans-serif;
    }
    body{
      background-image: url(../images/contact.img.jpg);
      background-size: cover;
        background-position: center;
        min-height:100vh;
        background-repeat: no-repeat;
    }
    .contactcontainer h2{
      font-family: 'Lobster', sans-serif;
      font-size: 75px;
      margin-top: 60px;
    }
    footer{
      display: flex;
      justify-content: flex-end;
      margin-right: 10px;
      }
    footer p{
      margin-right: 20px;
      }
    .btn2 {
      background-color: DodgerBlue;
      border: none;
      color: white;
      padding: 12px 30px;
      cursor: pointer;
      font-size: 20px;
      border-radius: 10px;
    }
    .btn2:hover {
      background-color: green;
    }
    .btn {
      display: flex;
      align-items:center;
      justify-content: left;
      padding:0 20px;
      width: 200px;
      color: white;
      cursor: pointer;
      font-size: 15px;
      border-radius: 10px;
      transition-duration: 0.4s;
    }
    .btn:hover {
      background-color: rgba(255, 255, 255, 0.2);
      
    }
    .btn p{
      margin-top: 15px;
      
    }
    .btn img{
      margin-top: 10px;
      display: flex;
      align-items:flex-start;
      justify-content:flex-end;
    }
  </style>
</head>
<body>
  <div class="contactcontainer">
    <h2>Contact Me</h2>
    <form id="contactForm" class="contact-form" method="POST" action="https://formspree.io/f/xqardzkq" novalidate>
      <div class="form-row">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" placeholder="Your name">
      </div>
      <div class="form-row">
        <label for="email">Email <span class="required">*</span></label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required>
        <div class="error-message" id="emailError" aria-live="polite"></div>
      </div>
      <div class="form-row">
        <label for="phone">Phone number</label>
        <input type="tel" id="phone" name="phone" placeholder="+48 123 456 789">
      </div>
      <div class="form-row">
        <label for="message">Message <span class="required">*</span></label>
        <textarea id="message" name="message" rows="5" placeholder="Write your message here..." required></textarea>
        <div class="error-message" id="messageError" aria-live="polite"></div>
      </div>
      <div class="form-row buttons-row">
        <button type="submit" class="btn2 submit-btn">Send Message</button>
        <a href="https://www.linkedin.com/in/gracjan-staszak/" target="_blank" class="btn2 submit-btn">LinkedIn Profile</a>
        <a href="http://www.github.com/GracjanSt?tab=repositories" target="_blank" class="btn2 submit-btn">GitHub</a>
      </div>
    </form>
  </div>
  
  <secion>
    <div class="header">
      <div class="side-nav">
          <div class="user">
            <a href="./About me.html"><img src="../images/my photo.jpg" height="40" class="user-img"></a>
            <div>
              <h2>Gracjan Staszak</h2>
              <a href="mailto:gracjan.staszak@gmail.com"><p>gracjan.staszak@gmail.com</p></a>
            </div>
          </div>
          <div class="ul">
            <ul>
              <li><a class="btn" href="./Projects.html"><img src="../images/icons/project.png" alt="Projects"><span>Projects</span></a></li>
              <li><a class="btn" href="./Skills.html"><img src="../images/icons/skills.png" alt="Skills"><span>Skills</span></a></li>
              <li><a class="btn" href="./Experience.html"><img src="../images/icons/experience.png" alt="Experience"><span>Experience</span></a></li>
              <li><a class="btn" href="./About me.html"><img src="../images/icons/info.png" alt="About me"><span>About me</span></a></li>
              <li><a class="btn" href="./Contact.html"><img src="../images/icons/contact-mail.png" alt="Contact"><span>Contact</span></a></li>
            </ul>
            <ul>
              <li><a class="btn" href="../index.html"><img src="../images/icons/home.png" alt="Home"><span>Home</span></a></li>
              <li><a class="btn" href="#"><img src="../images/icons/copyright.png" alt="Copy"><span>2026 GS</span></a></li>
            </ul>
          </div>
      </div>
    </div>
  </secion>
  <!--
  <section>
    <footer class="py-3 my-4">
      <ul class="footer-nav nav justify-content-center border-bottom pb-0 mb-3">
        <li class="nav-item"><a href="../subpages/Projects.html" class="nav-link px-2 text-body-secondary">Projects</a></li>
        <li class="nav-item"><a href="../subpages/Skills.html" class="nav-link px-2 text-body-secondary">Skills</a></li>
        <li class="nav-item"><a href="../subpages/Experience.html" class="nav-link px-2 text-body-secondary">Experience</a></li>
        <li class="nav-item"><a href="../subpages/About me.html" class="nav-link px-2 text-body-secondary">About me</a></li>
        <li class="nav-item"><a href="../subpages/Contact.html" class="nav-link px-2 text-body-secondary">Contact</a></li>
      </ul>
      <div class="footer-right">
        <p class="footer-copyright text-right text-body-secondary">Â© 2026 Gracjan Staszak</p>
      </div>
    </footer>
  </section>
-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmationModalLabel">Message sent</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        I've got your message, will respond as soon as possible.<br>
        Have a nice day!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary d-flex align-items-center justify-content-center" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  const form = document.getElementById('contactForm');
  const emailInput = document.getElementById('email');
  const messageInput = document.getElementById('message');
  const emailError = document.getElementById('emailError');
  const messageError = document.getElementById('messageError');
  const defaultRecipient = 'gracjan.staszak@gmail.com';
  const modalEl = document.getElementById('confirmationModal');

  function clearErrors(){
    emailError.textContent = '';
    messageError.textContent = '';
  }

  async function submitFormAjax(form){
    const action = form.getAttribute('action');
    const formData = new FormData(form);
    try {
      const resp = await fetch(action, {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      });
      if (resp.ok) return { success: true };
      const data = await resp.json().catch(()=>null);
      return { success: false, data };
    } catch (err) {
      return { success: false, error: err };
    }
  }

  form.addEventListener('submit', async function(e){
    e.preventDefault();
    clearErrors();
    let hasError = false;
    const emailVal = emailInput.value.trim();
    const messageVal = messageInput.value.trim();

    if (!emailVal) {
      emailError.textContent = 'Email is required.';
      hasError = true;
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal)) {
      emailError.textContent = 'Please enter a valid email address.';
      hasError = true;
    }

    if (!messageVal) {
      messageError.textContent = 'Message is required.';
      hasError = true;
    }

    if (hasError) {
      return false;
    }

    if (form.getAttribute('action')) {
      const result = await submitFormAjax(form);
      if (result.success) {
        const modal = new bootstrap.Modal(modalEl);
        modal.show();
        form.reset();
      } else {
        messageError.textContent = 'There was a problem sending your message. Please try again later.';
      }
      return false;
    }

    const name = document.getElementById('name').value.trim() || 'Website visitor';
    const phone = document.getElementById('phone').value.trim() || '';
    const subject = `Contact from ${name}`;
    const bodyLines = [
      `Name: ${name}`,
      `Email: ${emailVal}`,
      `Phone: ${phone}`,
      '',
      messageVal
    ];
    const mailto = `mailto:${defaultRecipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(bodyLines.join('\n'))}`;
    window.location.href = mailto;
  });
})();
</script>
</body>
</html>

